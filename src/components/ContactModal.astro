---
---

<div id="contactModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
  <div class="bg-gray-900 border border-violet-500/30 rounded-2xl p-8 max-w-md w-full">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-violet-300">Contacta con nosotros</h2>
      <button id="closeModal" class="text-gray-400 hover:text-violet-400 transition cursor-pointer">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    
    <form id="contactForm" class="space-y-4">
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">Nombre</label>
        <input
          type="text"
          name="name"
          required
          class="w-full px-4 py-2 bg-gray-800 border border-violet-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/60 transition"
          placeholder="Tu nombre"
        />
      </div>
      
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">Email</label>
        <input
          type="email"
          name="email"
          required
          class="w-full px-4 py-2 bg-gray-800 border border-violet-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/60 transition"
          placeholder="tu@email.com"
        />
      </div>
      
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">Proyecto</label>
        <select
          name="project"
          class="w-full px-4 py-2 bg-gray-800 border border-violet-500/30 rounded-lg text-white focus:outline-none focus:border-violet-500/60 transition"
        >
          <option value="">Selecciona un tipo de proyecto</option>
          <option value="landing">Landing Page</option>
          <option value="webapp">Aplicación Web</option>
          <option value="ecommerce">E-commerce</option>
          <option value="custom">Otro</option>
        </select>
      </div>
      
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">Mensaje</label>
        <textarea
          name="message"
          rows="4"
          class="w-full px-4 py-2 bg-gray-800 border border-violet-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-violet-500/60 transition resize-none"
          placeholder="Cuéntanos sobre tu proyecto..."
        ></textarea>
      </div>
      
      <button
        type="submit"
        class="w-full px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 rounded-lg font-semibold transition text-white cursor-pointer"
      >
        Enviar Mensaje
      </button>
    </form>
  </div>
</div>

<script is:inline>
  function initModal() {
    const modal = document.getElementById('contactModal');
    const closeBtn = document.getElementById('closeModal');
    const contactForm = document.getElementById('contactForm');
    const contactBtns = document.querySelectorAll('[data-contact-modal]');

    if (!modal || !closeBtn || !contactForm) {
      console.error('Modal elements not found');
      return;
    }

    // Abrir modal
    contactBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      });
    });

    // Cerrar modal
    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    function closeModal() {
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
      contactForm.reset();
    }

    // Manejar envío del formulario
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();
      alert('¡Gracias por tu contacto! Te responderemos pronto.');
      closeModal();
    });

    // Cerrar con ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });
  }

  // Esperar a que el DOM esté listo
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initModal);
  } else {
    initModal();
  }
</script>